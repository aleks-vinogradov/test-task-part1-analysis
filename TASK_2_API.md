# –ó–∞–¥–∞–Ω–∏–µ 2: –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –¥–ª—è —ç–∫—Ä–∞–Ω–∞ –º–∞–≥–∞–∑–∏–Ω–æ–≤-–ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω "–ü–µ—Ç—Ä—É—à–∫–∞ –ó–µ–ª–µ–Ω–∞—è" —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –∏ –≤ –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Ä–µ—à–∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —ç–∫—Ä–∞–Ω, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –º–∞–≥–∞–∑–∏–Ω—ã –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤.

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
–ù–∞–ø–∏—Å–∞—Ç—å –ø—Ä–∏–º–µ—Ä REST API –∑–∞–ø—Ä–æ—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –¥–∞–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω. 
–ü—Ä–∏–≤–µ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ —ç—Ç–æ–≥–æ REST API –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –º–∞–∫–µ—Ç–æ–º. –§–æ—Ä–º–∞—Ç - JSON. –£—á–µ—Å—Ç—å, —á—Ç–æ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –ø–ª–∞—à–∫—É –º–∞–≥–∞–∑–∏–Ω–∞ –¥–æ–ª–∂–µ–Ω –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å—Å—è –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ –Ω–∞ –≤–Ω–µ—à–Ω–∏–π —Ä–µ—Å—É—Ä—Å.

## üîå REST API Specification

### **Endpoint**

GET /api/v1/partners


### **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `latitude` | number | –ù–µ—Ç | –®–∏—Ä–æ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é) |
| `longitude` | number | –ù–µ—Ç | –î–æ–ª–≥–æ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `category` | string | –ù–µ—Ç | –ö–∞—Ç–µ–≥–æ—Ä–∏—è –º–∞–≥–∞–∑–∏–Ω–∞ ("–ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π", "—Ñ–µ—Ä–º–µ—Ä—Å–∫–∏–π" –∏ —Ç.–¥.) |
| `limit` | number | –ù–µ—Ç | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 20) |
| `offset` | number | –ù–µ—Ç | –°–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0) |
| `sort_by` | string | –ù–µ—Ç | –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: `rating`, `delivery_time`, `distance` |
| `is_open` | boolean | –ù–µ—Ç | –¢–æ–ª—å–∫–æ –æ—Ç–∫—Ä—ã—Ç—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã (true/false) |

### **–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞**

```http
GET /api/v1/partners?latitude=55.7558&longitude=37.6173&category=–ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π&limit=10&sort_by=rating
Host: api.petrushka.ru
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Accept: application/json
Content-Type: application/json

–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ (200 OK)

{
  "status": "success",
  "data": {
    "partners": [
      {
        "id": "partner_001",
        "name": "–ú–∞–≥–∞–∑–∏–Ω —É –¥–æ–º–∞",
        "category": "–ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π",
        "description": "–°–≤–µ–∂–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã –µ–∂–µ–¥–Ω–µ–≤–Ω–æ",
        "rating": 4.7,
        "review_count": 124,
        "delivery_time": "15-30 –º–∏–Ω",
        "delivery_cost": "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ",
        "min_order_amount": 500,
        "image_url": "https://cdn.petrushka.ru/partners/partner_001.jpg",
        "external_link": "https://partner1.ru/petrushka?utm_source=petrushka",
        "is_open": true,
        "working_hours": {
          "opens_at": "08:00",
          "closes_at": "23:00",
          "schedule": "–ï–∂–µ–¥–Ω–µ–≤–Ω–æ"
        },
        "promotion": "–°–∫–∏–¥–∫–∞ 20% –Ω–∞ –ø–µ—Ä–≤—ã–π –∑–∞–∫–∞–∑",
        "tags": ["–±—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞", "–∞–∫—Ü–∏—è", "–±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞"],
        "location": {
          "latitude": 55.751244,
          "longitude": 37.618423,
          "address": "—É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, –¥. 10",
          "city": "–ú–æ—Å–∫–≤–∞"
        },
        "distance": 1.2,
        "distance_unit": "km"
      }
    ],
    "metadata": {
      "total_count": 47,
      "page": 1,
      "page_size": 10,
      "has_more": true,
      "user_location": {
        "latitude": 55.7558,
        "longitude": 37.6173,
        "city": "–ú–æ—Å–∫–≤–∞"
      }
    }
  },
  "error": null
}

–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
400 Bad Request (–Ω–µ–≤–µ—Ä–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)

{
  "status": "error",
  "data": null,
  "error": {
    "code": "INVALID_PARAMETERS",
    "message": "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞",
    "details": "–ü–∞—Ä–∞–º–µ—Ç—Ä 'latitude' –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º"
  }
}

404 Not Found (–ø–∞—Ä—Ç–Ω–µ—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã)

{
  "status": "error",
  "data": null,
  "error": {
    "code": "PARTNERS_NOT_FOUND",
    "message": "–ú–∞–≥–∞–∑–∏–Ω—ã-–ø–∞—Ä—Ç–Ω–µ—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ –≤–∞—à–µ–º —Ä–∞–π–æ–Ω–µ",
    "details": "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞ –∏–ª–∏ —É–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–¥–∏—É—Å"
  }
}

–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤ HTTP
–ö–æ–¥	–û–ø–∏—Å–∞–Ω–∏–µ
200 OK	–£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å, –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ
400 Bad Request	–ù–µ–≤–µ—Ä–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
401 Unauthorized	–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
404 Not Found	–ú–∞–≥–∞–∑–∏–Ω—ã-–ø–∞—Ä—Ç–Ω–µ—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º
500 Internal Server Error	–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

üéØ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ—à–µ–Ω–∏—è
RESTful –¥–∏–∑–∞–π–Ω - —á–µ—Ç–∫–∏–π endpoint, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ HTTP –º–µ—Ç–æ–¥—ã

–ü–∞–≥–∏–Ω–∞—Ü–∏—è - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ limit –∏ offset –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è - –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Å—Ç–∞—Ç—É—Å—É –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ - –µ–¥–∏–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ {status, data, error}

–í–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏ - –ø–æ–ª–µ external_link –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å–∞–π—Ç –ø–∞—Ä—Ç–Ω–µ—Ä–∞

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
